<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="36.css" type="text/css">
</head>
<body>
    <input type="button" name="" value="StartTo300">
    <input type="button" name="" value="StartTo500">
    <div id="test1"></div>
    <div id="test2"></div>
    <div id="test3"></div>
</body>
<script>
    window.onload = function(){
        var oDiv = document.getElementById("test1");
        console.log("左偏移:"+oDiv.offsetLeft); //0
        console.log("上偏移:"+oDiv.offsetTop); //0
        console.log("高度:"+oDiv.offsetHeight); //300
        console.log("宽度:"+oDiv.offsetWidth); //150

        var oBtn1 = document.getElementsByTagName("input")[0];
        var oBtn2 = document.getElementsByTagName("input")[1];
        var timer = null;
        oBtn1.onclick = function(){
            startMove(300);
        }
        oBtn2.onclick = function(){
            startMove(500);
        }
        // oBtn2.addEventListener('click', startMove(500));
        function startMove(iTarget){
            var speed = 0;
            if(iTarget >= oDiv.offsetLeft){
                speed = 9    
            }
            else{
                speed = -9
            }

            clearInterval(timer);
            timer = setInterval(function(){ 
              
                if(Math.abs(iTarget - oDiv.offsetLeft) <= Math.abs(speed)){
                    clearInterval(timer);
                    oDiv.style.left = iTarget + 'px';
                    //============================================================================
                    console.log("新偏移=================================================");
                    console.log("左偏移:"+oDiv.offsetLeft); //0
                    console.log("上偏移:"+oDiv.offsetTop); //0
                    console.log("高度:"+oDiv.offsetHeight); //300
                    console.log("宽度:"+oDiv.offsetWidth); //150
                }
                else{
                    oDiv.style.left = oDiv.offsetLeft + speed + "px";
                }
            }, 30)


        }


    }
</script>
</html>